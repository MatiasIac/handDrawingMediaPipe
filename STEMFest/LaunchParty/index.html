<!DOCTYPE html>
<html>
    <head>
        <title>Game</title>

        <link rel="stylesheet" href="styles/main.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link href="https://fonts.googleapis.com/css?family=Carter+One" rel="stylesheet">
    </head>

    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

    <body border="0" style="padding: 0; margin: 0;">

        <div style="width: 100%; height: 500px;">
            <div id="blocklyDiv" class="blockly-div"></div>
        </div>

        <script src="scripts/blockly_compressed.js"></script>
        <script src="scripts/blocks_compressed.js"></script>
        <script src="scripts/javascript_compressed.js"></script>
        <script src="scripts/msg/js/en.js"></script>

        <xml id="toolbox" style="display: none">
            <category name="Logic" colour="%{BKY_LOGIC_HUE}">
                <block type="controls_if"></block>
                <block type="logic_compare"></block>
                <block type="logic_operation"></block>
                <block type="logic_negate"></block>
                <block type="logic_boolean"></block>
                <block type="logic_null"></block>
                <block type="logic_ternary"></block>
            </category>
            <category name="Loops" colour="%{BKY_LOOPS_HUE}">
                <block type="controls_repeat_ext">
                    <value name="TIMES">
                        <shadow type="math_number">
                            <field name="NUM">10</field>
                        </shadow>
                    </value>
                </block>
                <block type="controls_whileUntil"></block>
                <block type="controls_for">
                    <value name="FROM">
                        <shadow type="math_number">
                            <field name="NUM">1</field>
                        </shadow>
                    </value>
                    <value name="TO">
                        <shadow type="math_number">
                            <field name="NUM">10</field>
                        </shadow>
                    </value>
                    <value name="BY">
                        <shadow type="math_number">
                            <field name="NUM">1</field>
                        </shadow>
                    </value>
                </block>
                <block type="controls_forEach"></block>
                <block type="controls_flow_statements"></block>
            </category>
            <category name="Math" colour="%{BKY_MATH_HUE}">
                <block type="math_number">
                    <field name="NUM">123</field>
                </block>
                <block type="math_arithmetic">
                    <value name="A">
                        <shadow type="math_number">
                            <field name="NUM">1</field>
                        </shadow>
                    </value>
                    <value name="B">
                        <shadow type="math_number">
                            <field name="NUM">1</field>
                        </shadow>
                    </value>
                </block>
                <block type="math_single">
                    <value name="NUM">
                        <shadow type="math_number">
                            <field name="NUM">9</field>
                        </shadow>
                    </value>
                </block>
                <block type="math_trig">
                    <value name="NUM">
                        <shadow type="math_number">
                            <field name="NUM">45</field>
                        </shadow>
                    </value>
                </block>
                <block type="math_constant"></block>
                <block type="math_number_property">
                    <value name="NUMBER_TO_CHECK">
                        <shadow type="math_number">
                            <field name="NUM">0</field>
                        </shadow>
                    </value>
                </block>
                <block type="math_round">
                    <value name="NUM">
                        <shadow type="math_number">
                            <field name="NUM">3.1</field>
                        </shadow>
                    </value>
                </block>
                <block type="math_on_list"></block>
                <block type="math_modulo">
                    <value name="DIVIDEND">
                        <shadow type="math_number">
                            <field name="NUM">64</field>
                        </shadow>
                    </value>
                    <value name="DIVISOR">
                        <shadow type="math_number">
                            <field name="NUM">10</field>
                        </shadow>
                    </value>
                </block>
                <block type="math_constrain">
                    <value name="VALUE">
                        <shadow type="math_number">
                            <field name="NUM">50</field>
                        </shadow>
                    </value>
                    <value name="LOW">
                        <shadow type="math_number">
                            <field name="NUM">1</field>
                        </shadow>
                    </value>
                    <value name="HIGH">
                        <shadow type="math_number">
                            <field name="NUM">100</field>
                        </shadow>
                    </value>
                </block>
                <block type="math_random_int">
                    <value name="FROM">
                        <shadow type="math_number">
                            <field name="NUM">1</field>
                        </shadow>
                    </value>
                    <value name="TO">
                        <shadow type="math_number">
                            <field name="NUM">100</field>
                        </shadow>
                    </value>
                </block>
                <block type="math_random_float"></block>
                <block type="math_atan2">
                    <value name="X">
                        <shadow type="math_number">
                            <field name="NUM">1</field>
                        </shadow>
                    </value>
                    <value name="Y">
                        <shadow type="math_number">
                            <field name="NUM">1</field>
                        </shadow>
                    </value>
                </block>
            </category>
            <category name="Text" colour="%{BKY_TEXTS_HUE}">
                <block type="text"></block>
                <block type="text_append">
                    <value name="TEXT">
                        <shadow type="text"></shadow>
                    </value>
                </block>
                <block type="text_length">
                    <value name="VALUE">
                        <shadow type="text">
                            <field name="TEXT">abc</field>
                        </shadow>
                    </value>
                </block>
                <block type="text_isEmpty">
                    <value name="VALUE">
                        <shadow type="text">
                            <field name="TEXT"></field>
                        </shadow>
                    </value>
                </block>
                <block type="text_indexOf">
                    <value name="VALUE">
                        <block type="variables_get">
                            <field name="VAR">{textVariable}</field>
                        </block>
                    </value>
                    <value name="FIND">
                        <shadow type="text">
                            <field name="TEXT">abc</field>
                        </shadow>
                    </value>
                </block>
                <block type="text_charAt">
                    <value name="VALUE">
                        <block type="variables_get">
                            <field name="VAR">{textVariable}</field>
                        </block>
                    </value>
                </block>
                <block type="text_getSubstring">
                    <value name="STRING">
                        <block type="variables_get">
                            <field name="VAR">{textVariable}</field>
                        </block>
                    </value>
                </block>
                <block type="text_changeCase">
                    <value name="TEXT">
                        <shadow type="text">
                            <field name="TEXT">abc</field>
                        </shadow>
                    </value>
                </block>
                <block type="text_trim">
                    <value name="TEXT">
                        <shadow type="text">
                            <field name="TEXT">abc</field>
                        </shadow>
                    </value>
                </block>
            </category>
            <category name="Lists" colour="%{BKY_LISTS_HUE}">
                <block type="lists_create_with">
                    <mutation items="0"></mutation>
                </block>
                <block type="lists_create_with"></block>
                <block type="lists_repeat">
                    <value name="NUM">
                        <shadow type="math_number">
                            <field name="NUM">5</field>
                        </shadow>
                    </value>
                </block>
                <block type="lists_length"></block>
                <block type="lists_isEmpty"></block>
                <block type="lists_indexOf">
                    <value name="VALUE">
                        <block type="variables_get">
                            <field name="VAR">{listVariable}</field>
                        </block>
                    </value>
                </block>
                <block type="lists_getIndex">
                    <value name="VALUE">
                        <block type="variables_get">
                            <field name="VAR">{listVariable}</field>
                        </block>
                    </value>
                </block>
                <block type="lists_setIndex">
                    <value name="LIST">
                        <block type="variables_get">
                            <field name="VAR">{listVariable}</field>
                        </block>
                    </value>
                </block>
                <block type="lists_getSublist">
                    <value name="LIST">
                        <block type="variables_get">
                            <field name="VAR">{listVariable}</field>
                        </block>
                    </value>
                </block>
                <block type="lists_split">
                    <value name="DELIM">
                        <shadow type="text">
                            <field name="TEXT">,</field>
                        </shadow>
                    </value>
                </block>
                <block type="lists_sort"></block>
            </category>
            <category name="Variables" colour="%{BKY_VARIABLES_HUE}" custom="VARIABLE"></category>
        </xml>

        <canvas id="canvas" width="480px" height="600px"></canvas>
    </body>

    <script src="scripts/main.js"></script>

    <script lang="Javascript" src="framework/jsGFwk.js"></script>
    <script lang="Javascript" src="framework/jsGFwk2dFastAnimation.js"></script>
	<script lang="Javascript" src="framework/jsGFwkContainer.js"></script>
	<script lang="Javascript" src="framework/jsGFwkIO.js"></script>
	<script lang="Javascript" src="framework/jsGFwkCollisions.js"></script>
	<script lang="Javascript" src="framework/jsGFwkRM.js"></script>
	<script lang="Javascript" src="framework/jsGFwkSprites.js"></script>
	<script lang="Javascript" src="framework/jsGFwkFonts.js"></script>
    <script lang="Javascript" src="framework/jsGFwkScenes.js"></script>
    <script lang="Javascript" src="framework/jsGFwkTimers.js"></script>
    <script lang="Javascript" src="framework/jsGFwkJukebox.js"></script>
    <script lang="Javascript" src="framework/jsGFwkWebStorage.js"></script>
    <script lang="Javascript" src="framework/jsGFwkTextWriter.js"></script>

    <script src="games/globals.js"></script>
    <script src="games/physics.js"></script>
    <script src="games/map.js"></script>
    <script src="games/gameController.js"></script>
    <script src="games/player.js"></script>
    <script src="games/main.js"></script>

    <script lang="javascript">
        var game = { 
            configurations: {
                title: "",
                height: 600,
                width: 480
            },
            init: function() { }
        };

        jsGFwk.settings.canvas = "canvas";
        jsGFwk.settings.clearColor = "rgb(0, 0, 0)";
        jsGFwk.settings.frameRate = 1000 / 60;
        
        jsGFwk.include("FastAnimation");
        jsGFwk.include("Container");
        jsGFwk.include("IO");
        jsGFwk.include("Collisions");
        jsGFwk.include("ResourceManager");
        jsGFwk.include("Sprites");
        jsGFwk.include("Fonts");
        jsGFwk.include("Scenes");
        jsGFwk.include("Timer");
        jsGFwk.include("Jukebox");
        jsGFwk.include("Storage");

        game.init();

        var fClick = function () {
            jsGFwk.start();
            c.removeEventListener('click', fClick, true);
        };

        var c = document.getElementById('canvas');
        var ctx = c.getContext('2d');
        var logo = new Image();

        logo.onload = function () {
            ctx.drawImage(logo, 150, 262, 180, 75);
            ctx.fillStyle = "black";
            ctx.font = "16pt arial";
            ctx.fillText("Click To Start", 175, 380);
        }

        logo.src = 'games/images/jsGFwkLogo.png';

        c.addEventListener('click', fClick, true);
        
    </script>
</html>